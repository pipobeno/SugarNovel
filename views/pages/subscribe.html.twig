{# la page d'Inscription#}

{% extends "../layouts/base.html.twig" %}

{% block style %}
	<link rel="stylesheet" href="/assets/css/subscribe.css">
{% endblock %}

{% block title %}
	{# double {{}} = variable #}
	<title>{{ title }}</title>
{% endblock %}

{% block main %}

	<main>
		<section>
			<div>
				<h1>SugarNovel</h1>
			</div>
			<div>
				<h2>S'inscrire</h2>
			</div>
			<div>
				<form action="./subscribe" method="post">
					<div>
						<label for="name">Nom Complet</label>
						<input id="name" type="text" name="name">
					</div>
					<div>
						<label for="email">Adresse e-mail</label>
						<input id="email" type="text" name="email">
						{% if error.email %}
							<p class="error-message">{{ error.email }}</p>
						{% endif %}
					</div>
					<div>
						<label for="password">Créez un mot de passe</label>
						<div class="password">
						<input id="password" type="password" name="password">
						<img src="assets/images/eye-close.svg" alt="eye-close" id="eye" onclick="changer()"></div>
						
					</div>
					<div>
						<label for="password">Confirmez votre mot de passe</label>
						<div  class="passwordTwo">
						<input id="confirm_password" type="password" name="confirm_password">
						<img src="assets/images/eye-close.svg" alt="eye-close" id="eye" onclick="changer()">
						</div>
						
						{% if error.password %}
							<p class="error-message">{{ error.password }}</p>
						{% endif %}

					</div>
					<div>
						<button type="submit">créer un compte</button>
					</div>
					<div>
						<p>Vous avez déjà un compte ?</p>
						<a href="/login">Connectez-vous</a>
					</div>
				</form>
			</div>
		</section>
	</main>
	<script>
		let isPasswordVisible = false;

function changer() {
const passwordFields = document.querySelectorAll('#password, #confirm_password');
const eyeIcons = document.querySelectorAll('#eye');

passwordFields.forEach(field => {
field.type = isPasswordVisible ? 'password' : 'text';
});

eyeIcons.forEach(icon => {
icon.src = isPasswordVisible ? 'assets/images/eye-close.svg' : 'assets/images/eye.svg';
});

isPasswordVisible = ! isPasswordVisible;
}
	</script>

{% endblock %}
